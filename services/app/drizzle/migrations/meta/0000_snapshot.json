{
  "id": "cf507fcd-1c57-4c04-a78c-37d56e4180cb",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "bank": {
      "name": "bank",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "country": {
          "name": "country",
          "type": "char(2)",
          "primaryKey": false,
          "notNull": true
        },
        "bic": {
          "name": "bic",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo": {
          "name": "logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "providerSource": {
          "name": "providerSource",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "providerId": {
          "name": "providerId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "bank_upload_accounts": {
      "name": "bank_upload_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "type": {
          "name": "type",
          "type": "TransactionAccountType",
          "primaryKey": false,
          "notNull": true
        },
        "bankId": {
          "name": "bankId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "bank_upload_accounts_bankId_bank_id_fk": {
          "name": "bank_upload_accounts_bankId_bank_id_fk",
          "tableFrom": "bank_upload_accounts",
          "tableTo": "bank",
          "columnsFrom": [
            "bankId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "label": {
      "name": "label",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parentId": {
          "name": "parentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "isLeaf": {
          "name": "isLeaf",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "label_userId_user_id_fk": {
          "name": "label_userId_user_id_fk",
          "tableFrom": "label",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        },
        "label_parentId_label_id_fk": {
          "name": "label_parentId_label_id_fk",
          "tableFrom": "label",
          "tableTo": "label",
          "columnsFrom": [
            "parentId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "login": {
      "name": "login",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "LoginMethod",
          "primaryKey": false,
          "notNull": false
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sessionId": {
          "name": "sessionId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device": {
          "name": "device",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip": {
          "name": "ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "userAgent": {
          "name": "userAgent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attemptedAt": {
          "name": "attemptedAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "successAt": {
          "name": "successAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "login_userId_user_id_fk": {
          "name": "login_userId_user_id_fk",
          "tableFrom": "login",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        },
        "login_sessionId_session_id_fk": {
          "name": "login_sessionId_session_id_fk",
          "tableFrom": "login",
          "tableTo": "session",
          "columnsFrom": [
            "sessionId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "oauth_account": {
      "name": "oauth_account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "OAuthProvider",
          "primaryKey": false,
          "notNull": true
        },
        "providerUserId": {
          "name": "providerUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "oauth_account_userId_user_id_fk": {
          "name": "oauth_account_userId_user_id_fk",
          "tableFrom": "oauth_account",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_userId_user_id_fk": {
          "name": "session_userId_user_id_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "transaction": {
      "name": "transaction",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "accountId": {
          "name": "accountId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "importId": {
          "name": "importId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "TransactionType",
          "primaryKey": false,
          "notNull": true
        },
        "spendingAmount": {
          "name": "spendingAmount",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "spendingCurrency": {
          "name": "spendingCurrency",
          "type": "char(3)",
          "primaryKey": false,
          "notNull": true
        },
        "accountAmount": {
          "name": "accountAmount",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "accountCurrency": {
          "name": "accountCurrency",
          "type": "char(3)",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "char(2)",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "labelId": {
          "name": "labelId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "isNew": {
          "name": "isNew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "isDeleted": {
          "name": "isDeleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "transaction_userId_key_isDeleted_key": {
          "name": "transaction_userId_key_isDeleted_key",
          "columns": [
            "userId",
            "key",
            "isDeleted"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "transaction_userId_user_id_fk": {
          "name": "transaction_userId_user_id_fk",
          "tableFrom": "transaction",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        },
        "transaction_accountId_transaction_account_id_fk": {
          "name": "transaction_accountId_transaction_account_id_fk",
          "tableFrom": "transaction",
          "tableTo": "transaction_account",
          "columnsFrom": [
            "accountId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        },
        "transaction_importId_import_id_fk": {
          "name": "transaction_importId_import_id_fk",
          "tableFrom": "transaction",
          "tableTo": "import",
          "columnsFrom": [
            "importId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        },
        "transaction_labelId_label_id_fk": {
          "name": "transaction_labelId_label_id_fk",
          "tableFrom": "transaction",
          "tableTo": "label",
          "columnsFrom": [
            "labelId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "transaction_account": {
      "name": "transaction_account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "parentId": {
          "name": "parentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "isLeaf": {
          "name": "isLeaf",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "type": {
          "name": "type",
          "type": "TransactionAccountType",
          "primaryKey": false,
          "notNull": true
        },
        "bankId": {
          "name": "bankId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "transaction_account_parentId_transaction_account_id_fk": {
          "name": "transaction_account_parentId_transaction_account_id_fk",
          "tableFrom": "transaction_account",
          "tableTo": "transaction_account",
          "columnsFrom": [
            "parentId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transaction_account_userId_user_id_fk": {
          "name": "transaction_account_userId_user_id_fk",
          "tableFrom": "transaction_account",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "transaction_account_bankId_bank_id_fk": {
          "name": "transaction_account_bankId_bank_id_fk",
          "tableFrom": "transaction_account",
          "tableTo": "bank",
          "columnsFrom": [
            "bankId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "import": {
      "name": "import",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "accountId": {
          "name": "accountId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "successAt": {
          "name": "successAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        },
        "countTransactions": {
          "name": "countTransactions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "import_userId_user_id_fk": {
          "name": "import_userId_user_id_fk",
          "tableFrom": "import",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        },
        "import_accountId_transaction_account_id_fk": {
          "name": "import_accountId_transaction_account_id_fk",
          "tableFrom": "import",
          "tableTo": "transaction_account",
          "columnsFrom": [
            "accountId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "import_file": {
      "name": "import_file",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "importId": {
          "name": "importId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "import_file_userId_user_id_fk": {
          "name": "import_file_userId_user_id_fk",
          "tableFrom": "import_file",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        },
        "import_file_importId_import_id_fk": {
          "name": "import_file_importId_import_id_fk",
          "tableFrom": "import_file",
          "tableTo": "import",
          "columnsFrom": [
            "importId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "firstName": {
          "name": "firstName",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lastName": {
          "name": "lastName",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "emailVerifiedAt": {
          "name": "emailVerifiedAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "UserRole",
          "primaryKey": false,
          "notNull": true,
          "default": "'USER'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        },
        "lastLoginAt": {
          "name": "lastLoginAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": false
        },
        "loginAttempts": {
          "name": "loginAttempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "user_email_key": {
          "name": "user_email_key",
          "columns": [
            "email"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_setting": {
      "name": "user_setting",
      "schema": "",
      "columns": {
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "language": {
          "name": "language",
          "type": "Language",
          "primaryKey": false,
          "notNull": false,
          "default": "'EN'"
        },
        "apparance": {
          "name": "apparance",
          "type": "Apparance",
          "primaryKey": false,
          "notNull": false,
          "default": "'LIGHT'"
        }
      },
      "indexes": {
        "user_setting_userId_key": {
          "name": "user_setting_userId_key",
          "columns": [
            "userId"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "user_setting_userId_user_id_fk": {
          "name": "user_setting_userId_user_id_fk",
          "tableFrom": "user_setting",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "verification_token": {
      "name": "verification_token",
      "schema": "",
      "columns": {
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp (3)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "verification_token_identifier_token_key": {
          "name": "verification_token_identifier_token_key",
          "columns": [
            "identifier",
            "token"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {
    "Apparance": {
      "name": "Apparance",
      "values": {
        "SYSTEM": "SYSTEM",
        "DARK": "DARK",
        "LIGHT": "LIGHT"
      }
    },
    "Language": {
      "name": "Language",
      "values": {
        "EN": "EN"
      }
    },
    "LoginMethod": {
      "name": "LoginMethod",
      "values": {
        "GITHUB": "GITHUB",
        "EMAIL": "EMAIL"
      }
    },
    "OAuthProvider": {
      "name": "OAuthProvider",
      "values": {
        "GITHUB": "GITHUB"
      }
    },
    "TransactionAccountType": {
      "name": "TransactionAccountType",
      "values": {
        "CREDIT_CARD": "CREDIT_CARD",
        "SAVING": "SAVING",
        "CURRENT": "CURRENT"
      }
    },
    "TransactionType": {
      "name": "TransactionType",
      "values": {
        "TRANSFER": "TRANSFER",
        "CREDIT": "CREDIT",
        "DEBIT": "DEBIT"
      }
    },
    "UserRole": {
      "name": "UserRole",
      "values": {
        "USER": "USER",
        "ADMIN": "ADMIN"
      }
    }
  },
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}